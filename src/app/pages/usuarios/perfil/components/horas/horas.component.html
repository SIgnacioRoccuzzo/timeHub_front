<div class="container">
    <hr>
    <h4>Registro de Horas</h4>
    <hr>
    <form class="row" [formGroup]="registroForm" (ngSubmit)="onSubmit()">
        <div class="form-group mb-2 col-12">
            <label class="form-label">Seleccionar Proyecto:</label>
            <select value="select" class="form-control" formControlName="proyectos_id"
                placeholder="selecciona un proyecto">
                <label class="form-label">Fecha:</label>
                <option value="select" disabled selected>Selecciona un proyecto</option>
                <option *ngFor="let proyecto of proyectos" [value]="proyecto.id">{{ proyecto.nombre }}
                </option>
            </select>
        </div>
        <div class="form-group mb-2 col-12 horas">
            <input type="time" class="form-control mb-2" formControlName="hora_entrada">
            <button type="button" (click)="obtenerHoraEntrada()" class="btn btn-info">Hora entrada</button>
        </div>
        <div class="form-group mb-2 col-12 horas">
            <input type="time" class="form-control mb-2" formControlName="hora_salida">
            <button type="button" (click)="obtenerHoraSalida()" class="btn btn-info">Hora Salida</button>
        </div>
        <div class="form-group mb-2 col-12">
            <input type="date" class="form-control" formControlName="fecha">
        </div>

        <button type="submit" class="btn btn-info enviar" [disabled]=" !registroForm.valid">Registrar Horas</button>
    </form>
</div>


<div>
    <h2>Selecciona el rango de fechas:</h2>
    <div>
        <label for="fecha-inicio">Fecha de inicio:</label>
        <input type="date" id="fecha-inicio" [(ngModel)]="fecha_inicio">
    </div>
    <div>
        <label for="fecha-fin">Fecha de fin:</label>
        <input type="date" id="fecha-fin" [(ngModel)]="fecha_fin">
    </div>
    <button class="btn btn-info" (click)="cargarFechas()">Cargar datos</button>
</div>

<div *ngIf="horasTotalesSemana !== undefined">
    <h2>Resultados:</h2>
    <p>Horas totales de la semana: {{ horasTotalesSemana }}</p>
    <p *ngIf="horasTotalesSemana === horasPorContrato">El trabajador cumple con las horas semanales pactadas por
        contrato.</p>
    <p *ngIf="horasTotalesSemana > horasPorContrato">El trabajador ha excedido las horas semanales pactadas por
        contrato.</p>
    <p *ngIf="horasTotalesSemana < horasPorContrato">El trabajador ha trabajado menos horas de las pactadas por
        contrato.</p>
</div>